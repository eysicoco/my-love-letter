<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A letter for you ðŸŒ¸</title>

<style>
* { box-sizing: border-box; }

body {
  margin: 0;
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  background: linear-gradient(135deg, #ffd6e8, #e0c3fc, #c2f0fc);
  font-family: "Segoe UI", sans-serif;
  overflow: hidden;
}

/* floating flowers */
.flower {
  position: absolute;
  font-size: 18px;
  animation: float 7s linear infinite;
  opacity: 0.7;
}
@keyframes float { from { transform: translateY(110vh); } to { transform: translateY(-10vh); } }

/* sparkles */
.sparkle {
  position: absolute;
  font-size: 14px;
  animation: sparkle 2s linear infinite;
  opacity: 0.8;
}
@keyframes sparkle { 0% {opacity:0; transform:scale(0.5);} 50% {opacity:1; transform:scale(1.2);} 100% {opacity:0; transform:scale(0.5);} }

/* confetti hearts */
.confetti {
  position: absolute;
  font-size: 14px;
  animation: confetti 1.8s ease-out forwards;
}
@keyframes confetti { to { transform: translateY(-150px) rotate(360deg); opacity:0; } }

/* envelope container */
.envelope {
  width: 92vw;
  max-width: 360px;
  height: 120px;
  position: relative;
  cursor: pointer;
  perspective: 800px;
  transition: height 1s ease;
}
.envelope.expand { height: 320px; }

/* envelope body */
.envelope-body {
  width: 100%;
  height: 100%;
  background: linear-gradient(145deg, #fff6fb, #ffe3f1);
  border-radius: 18px;
  box-shadow: 0 12px 30px rgba(255,105,180,0.25),
              inset 0 2px 6px rgba(255,255,255,0.9);
  position: absolute;
  overflow: hidden;
}
.envelope-body::before {
  content: "";
  position: absolute;
  inset: 8px;
  border-radius: 14px;
  border: 2px dashed rgba(255,150,200,0.5);
}

/* flap */
.flap {
  position: absolute;
  width: 100%;
  height: 100%;
  background: linear-gradient(145deg, #ffd6e8, #ffc2dd);
  clip-path: polygon(0 0, 100% 0, 50% 65%);
  border-radius: 18px 18px 0 0;
  transform-origin: top;
  transition: transform 1s ease;
  box-shadow: 0 8px 15px rgba(0,0,0,0.1);
  z-index: 3;
}

/* inner paper */
.paper {
  position: absolute;
  width: 92%;
  height: 90%;
  top: 8px;
  left: 4%;
  background: #fffafc;
  border-radius: 14px;
  box-shadow: inset 0 0 8px rgba(0,0,0,0.05);
  padding: 14px;
  opacity: 0;
  transition: opacity 0.8s 0.3s;
  overflow-y: auto;
}

/* flap & paper open */
.envelope.open .flap { transform: rotateX(180deg); }
.envelope.open .paper { opacity: 1; }

/* photo frame */
.photo-frame {
  width: 100%;
  height: 90px;
  background: #fff;
  padding: 6px 6px 16px 6px;
  border-radius: 8px;
  box-shadow: 0 0 12px rgba(255,105,180,0.6);
  position: relative;
  animation: glow 2s infinite alternate;
  margin-bottom: 8px;
}
.photo-frame img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 4px;
}
.photo-frame::after {
  content: "ðŸ’— ðŸ’ž ðŸ’—";
  position: absolute;
  top: -14px;
  left: 10px;
  font-size: 14px;
  animation: floatHearts 2s infinite;
}
@keyframes glow { from {box-shadow:0 0 8px rgba(255,105,180,0.4);} to {box-shadow:0 0 18px rgba(255,105,180,0.9);} }
@keyframes floatHearts { 0% {opacity:0; transform:translateY(0);} 50% {opacity:1; transform:translateY(-6px);} 100% {opacity:0; transform:translateY(-12px);} }

/* title gradient */
.title {
  text-align: center;
  font-weight: bold;
  margin-bottom: 8px;
  font-size: 18px;
  background: linear-gradient(90deg, #ff6fa5, #c77dff);
  -webkit-background-clip: text;
  color: transparent;
  animation: titleGlow 2s infinite alternate;
}
@keyframes titleGlow { from { filter: drop-shadow(0 0 2px #ff9ac7); } to { filter: drop-shadow(0 0 10px #ff6fa5); } }

@media (max-width: 380px) {
  .paper { font-size: 13px; }
}

</style>
</head>
<body>

<!-- floating flowers -->
<div class="flower" style="left:8%">ðŸŒ¸</div>
<div class="flower" style="left:25%; animation-delay:1s">ðŸŒ·</div>
<div class="flower" style="left:50%; animation-delay:2s">ðŸŒ¼</div>
<div class="flower" style="left:72%; animation-delay:3s">ðŸŒ¸</div>

<!-- sparkles -->
<div class="sparkle" style="left:20%; top:30%">âœ¨</div>
<div class="sparkle" style="left:70%; top:60%; animation-delay:1s">âœ¨</div>
<div class="sparkle" style="left:40%; top:20%; animation-delay:2s">âœ¨</div>

<!-- envelope -->
<div class="envelope" onclick="openLetter(this)">
  <div class="envelope-body"></div>
  <div class="flap"></div>

  <div class="paper">
    <div class="photo-frame">
      <img src="photo.jpg">
    </div>

    <div class="title">For You ðŸ’Œ</div>
    <div id="typed"></div>
  </div>
</div>

<!-- music -->
<audio id="music" loop>
  <source src="Cinnamon.mp3" type="audio/mpeg">
</audio>
<audio id="openSound">
  <source src="open.mp3" type="audio/mpeg">
</audio>

<script>
let i = 0;
const text = `Hi love,

I made this pastel envelope just for you.
I hope this little surprise makes your day softer.

Thank you for being someone warm,
kind, and special in my life.

No matter how busy days get,
remember someone out here
is always cheering for you.

â€” Allen ðŸŒ¸`;

function typeWriter() {
  if (i < text.length) {
    document.getElementById("typed").innerHTML += text.charAt(i);
    i++;
    setTimeout(typeWriter, 35);
  }
}

function confettiBurst() {
  const emojis = ["ðŸ’—","âœ¨","ðŸŒ¸","ðŸ’ž","ðŸ’–"];
  for (let j = 0; j < 20; j++) {
    let c = document.createElement("div");
    c.className = "confetti";
    c.innerHTML = emojis[Math.floor(Math.random()*emojis.length)];
    c.style.left = Math.random()*100 + "vw";
    c.style.top = "65vh";
    document.body.appendChild(c);
    setTimeout(()=>c.remove(),1800);
  }
}

function openLetter(el) {
  const envelope = el;

  // toggle open state
  envelope.classList.toggle("open");

  if (envelope.classList.contains("open")) {
    envelope.classList.add("expand"); // expand envelope
    typeWriter();
    confettiBurst();
    document.getElementById("music").play().catch(()=>{});
    document.getElementById("openSound").play().catch(()=>{});
  } else {
    envelope.classList.remove("expand"); // shrink envelope immediately even if typing
  }
}
</script>
</body>
</html>
